// Code generated by github.com/kjkrol/goke/internal/gen/blueprints/main.go; DO NOT EDIT.
package goke

import (
   "github.com/kjkrol/goke/internal/core"
)

{{ range $n := .Range }}
// Blueprint{{ $n }} obsługuje {{ $n }} komponentów
type Blueprint{{ $n }}[{{ range $i := (seq 1 $n) }}T{{ $i }} any{{ if lt $i $n }}, {{ end }}{{ end }}] struct {
    blueprint *core.Blueprint
}

func NewBlueprint{{ $n }}[{{ range $i := (seq 1 $n) }}T{{ $i }} any{{ if lt $i $n }}, {{ end }}{{ end }}](
    ecs *ECS,
    opts ...BlueprintOption,
) *Blueprint{{ $n }}[{{ range $i := (seq 1 $n) }}T{{ $i }}{{ if lt $i $n }}, {{ end }}{{ end }}] {
    builder := core.NewBlueprintBuilder(ecs.registry)

    {{ range $i := (seq 1 $n) }}
    comp{{ $i }}Info := core.EnsureComponentRegistered[T{{ $i }}](ecs.registry.ComponentsRegistry)
    builder.WithComp(comp{{ $i }}Info.ID)
    {{- end }}

    for _, opt := range opts {
        opt(builder)
    }

    return &Blueprint{{ $n }}[{{ range $i := (seq 1 $n) }}T{{ $i }}{{ if lt $i $n }}, {{ end }}{{ end }}]{
        blueprint: builder.Build(),
    }
}

func (b *Blueprint{{ $n }}[{{ range $i := (seq 1 $n) }}T{{ $i }}{{ if lt $i $n }}, {{ end }}{{ end }}]) Create() (Entity, {{ range $i := (seq 1 $n) }}*T{{ $i }}{{ if lt $i $n }}, {{ end }}{{ end }}) {
    entity, ptrs := b.blueprint.Create()
    return entity, {{ range $i := (seq 0 (sub $n 1)) }}(*T{{ add $i 1 }})(ptrs[{{ $i }}]){{ if lt (add $i 1) $n }}, {{ end }}{{ end }}
}
{{ end }}